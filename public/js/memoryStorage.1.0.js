!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.memoryStorage=t()}(this,function(){"use strict";var e=new Object;return Object.defineProperty(e,"setItem",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t){sessionStorage.setItem(e,t),localStorage.setItem("setItem",JSON.stringify({key:e,value:t})),localStorage.removeItem("setItem")}}),Object.defineProperty(e,"removeItem",{configurable:!1,enumerable:!1,writable:!1,value:function(e){sessionStorage.removeItem(e),localStorage.setItem("removeItem",JSON.stringify({key:e,value:Date.now()})),localStorage.removeItem("removeItem")}}),Object.defineProperty(e,"getItem",{configurable:!1,enumerable:!1,writable:!1,value:function(e){return sessionStorage.getItem(e)}}),sessionStorage.length||(localStorage.setItem("getSessionStorage",Date.now()),localStorage.removeItem("getSessionStorage")),window.addEventListener("storage",function(e){if(e.newValue)if("getSessionStorage"==e.key)localStorage.setItem("sessionStorage",JSON.stringify(sessionStorage)),localStorage.removeItem("sessionStorage");else if("sessionStorage"!=e.key||sessionStorage.length){if("setItem"==e.key){var t=JSON.parse(e.newValue);sessionStorage.setItem(t.key,t.value)}else if("removeItem"==e.key){var o=JSON.parse(e.newValue);sessionStorage.removeItem(o.key)}}else{var r=JSON.parse(e.newValue);for(var s in r)sessionStorage.setItem(s,r[s])}}),e});
//# sourceMappingURL=memoryStorage.1.0.js.map
